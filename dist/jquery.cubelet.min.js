/*! jquery-cubelet - v0.0.0 - 2013-08-13 - https://github.com/jeremyckahn/cubelet */
(function(t){function e(t,e,n){var o=t._cubeletCoordinates;t.cubeletSetCoords({x:o.x-n,y:o.y+e})}function n(t,e,n){var o=e+n,r=t.cubeletGetCoords().z+o;t.cubeletSetCoords({z:r})}function o(o,r,i){var s=i.clientX,a=i.clientY,u=i.clientX-o._lastClientX,l=i.clientY-o._lastClientY;o._lastClientX=s,o._lastClientY=a,t.contains(o._$cubeletCube[0],r)||o._$cubeletContainer[0]===r?e(o,u,l):t.contains(o._$cubeletZRotationArm[0],r)&&n(o,u,l),o.trigger("change")}function r(e,n){e._lastClientX=n.clientX,e._lastClientY=n.clientY;var r=t.proxy(o,d,e,n.target);d.on("mousemove",r),d.on("mouseup",function(){d.off("mousemove",r)})}function i(){s=document.createElement("style"),s.innerHTML=l.replace(/__VENDOR__/g,f()),document.head.appendChild(s),a=t(u)}var s,a,u=['<div class="cubelet-container">','<div class="cubelet-cube">','<figure class="cubelet-front"></figure>','<figure class="cubelet-back"></figure>','<figure class="cubelet-right"></figure>','<figure class="cubelet-left"></figure>','<figure class="cubelet-top"></figure>','<figure class="cubelet-bottom"></figure>',"</div>",'<div class="cubelet-rotation-arm">','<div class="cubelet-rotation-handle"></div>',"</div>","</div>"].join(""),l=[".cubelet { ","margin: 0 auto; }",".cubelet-container,",".cubelet-cube {","height: 100%;","width: 100%; }",".cubelet-cube {","__VENDOR__transform: translateZ(-100px) rotateY(0deg) rotateX(0deg); ","__VENDOR__transform-style: preserve-3d; }",".cubelet-cube figure {","margin: 0;","position: absolute;","height: 100%;","width: 100%; }",".cubelet-front {","__VENDOR__transform: rotateY(0deg) translateZ(50px); }",".cubelet-back {","__VENDOR__transform: rotateX(180deg) translateZ(50px);","background: #fb0; }",".cubelet-right {","__VENDOR__transform: rotateY(90deg) translateZ(50px);","background: #00cc4e; }",".cubelet-left {","__VENDOR__transform: rotateY(-90deg) translateZ(50px);","background: #06f; }",".cubelet-top {","__VENDOR__transform: rotateX(90deg) translateZ(50px);","background: #f77; }",".cubelet-bottom {","__VENDOR__transform: rotateX(-90deg) translateZ(50px);","background: #b00; }",".cubelet-rotation-arm {","cursor: ew-resize;","bottom: 50%;","background: #fff;","border-left: dotted #000 2px;","left: 50%;","position: absolute;","height: 125px;","width: 0; }",".cubelet-rotation-handle {","background: #444;","border: solid #000 2px;","border-radius: 50%;","height: 10px;","left: -8px;","position: absolute;","right: 8%;","width: 10px; }"].join("\n"),c=100,b=!1,d=t(window),f=function(){var t=document.body.style,e="";return"-webkit-transform"in t?e="-webkit-":"-moz-transform"in t?e="-moz-":"-ms-transform"in t?e="-ms-":"-o-transform"in t&&(e="-o-"),f=function(){return e},e};t.fn.cubeletInit=function(){return b||(i(),b=!0),this._cubeletCoordinates={x:0,y:0,z:0},this._lastOffsetX=null,this._lastOffsetY=null,this._$cubeletHtmlFragment=a.clone(),this.append(this._$cubeletHtmlFragment),this._$cubeletContainer=this.find(".cubelet-container"),this._$cubeletCube=this.find(".cubelet-cube"),this._$cubeletZRotationArm=this.find(".cubelet-rotation-arm"),this._$cubeletZRotationHandle=this.find(".cubelet-rotation-handle"),this.css({height:c+"px",width:c+"px"}),this.addClass("cubelet"),this.cubeletSetCoords(this._cubeletCoordinates),this._$cubeletContainer.on("mousedown",t.proxy(r,this,this)),this.cubeletHide(),this},t.fn.cubeletGetCoords=function(){return t.extend({},this._cubeletCoordinates)},t.fn.cubeletSetCoords=function(e){var n=this._cubeletCoordinates;t.extend(n,e);var o="rotateX("+n.x+"deg) rotateY("+n.y+"deg)";return this.css("transform","translate(-50%, -50%) rotate("+n.z+"deg)"),this._$cubeletCube.css("transform",o),this},t.fn.cubeletShow=function(){return this._$cubeletContainer.show(),this},t.fn.cubeletHide=function(){return this._$cubeletContainer.hide(),this},t.fn.cubeletIsShown=function(){return this._$cubeletContainer.is(":visible")},t.fn.cubeletApplyRotationToElement=function(t){var e=this.cubeletGetCoords();t.css("transform","rotateX("+e.x+"deg) rotateY("+e.y+"deg) rotateZ("+e.z+"deg)")}})(this.jQuery);