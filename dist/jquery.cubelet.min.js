/*! jquery-cubelet - v0.0.0 - 2013-08-11 - https://github.com/jeremyckahn/cubelet */
(function(t){function e(t,e,n){var i=t._cubeletCoordinates;t.cubeletSetCoords({x:i.x-n,y:i.y+e})}function n(t,e,n){var i=e+n,r=t.cubeletGetCoords().z+i;t.cubeletSetCoords({z:r}),t.css("transform","translate(-50%, -50%) rotate("+r+"deg)")}function i(i,r,o){var s=o.clientX,a=o.clientY,u=o.clientX-i._lastClientX,c=o.clientY-i._lastClientY;i._lastClientX=s,i._lastClientY=a,t.contains(i._$cubeletCube[0],r)?e(i,u,c):t.contains(i._$cubeletZRotationArm[0],r)&&n(i,u,c),i.trigger("change")}function r(e,n){e._lastClientX=n.clientX,e._lastClientY=n.clientY;var r=t.proxy(i,d,e,n.target);d.on("mousemove",r),d.on("mouseup",function(){d.off("mousemove",r)})}function o(){s=document.createElement("style"),s.innerHTML=c.replace(/__VENDOR__/g,f()),document.head.appendChild(s),a=t(u)}var s,a,u=['<div class="cubelet-container">','<div class="cubelet-cube">','<figure class="cubelet-front"></figure>','<figure class="cubelet-back"></figure>','<figure class="cubelet-right"></figure>','<figure class="cubelet-left"></figure>','<figure class="cubelet-top"></figure>','<figure class="cubelet-bottom"></figure>',"</div>",'<div class="cubelet-rotation-arm">','<div class="cubelet-rotation-handle"></div>',"</div>","</div>"].join(""),c=[".cubelet { ","margin: 0 auto; }",".cubelet-container,",".cubelet-cube {","height: 100%;","width: 100%; }",".cubelet-cube {","__VENDOR__transform: translateZ(-100px) rotateY(0deg) rotateX(0deg); ","__VENDOR__transform-style: preserve-3d; }",".cubelet-cube figure {","margin: 0;","position: absolute;","height: 100%;","width: 100%; }",".cubelet-front {","__VENDOR__transform: rotateY(0deg) translateZ(50px); }",".cubelet-back {","__VENDOR__transform: rotateX(180deg) translateZ(50px);","background: #fb0; }",".cubelet-right {","__VENDOR__transform: rotateY(90deg) translateZ(50px);","background: #00cc4e; }",".cubelet-left {","__VENDOR__transform: rotateY(-90deg) translateZ(50px);","background: #06f; }",".cubelet-top {","__VENDOR__transform: rotateX(90deg) translateZ(50px);","background: #f77; }",".cubelet-bottom {","__VENDOR__transform: rotateX(-90deg) translateZ(50px);","background: #b00; }",".cubelet-rotation-arm {","cursor: ew-resize;","bottom: 50%;","background: #fff;","border-left: dotted #000 2px;","left: 50%;","position: absolute;","height: 125px;","width: 0; }",".cubelet-rotation-handle {","background: #444;","border: solid #000 2px;","border-radius: 50%;","height: 10px;","left: -8px;","position: absolute;","right: 8%;","width: 10px; }"].join("\n"),l=1e3,b=!1,d=t(window),f=function(){var t=document.body.style,e="";return"-webkit-transform"in t?e="-webkit-":"-moz-transform"in t?e="-moz-":"-ms-transform"in t?e="-ms-":"-o-transform"in t&&(e="-o-"),f=function(){return e},e};t.fn.cubeletInit=function(){return b||(o(),b=!0),this._cubeletCoordinates={x:0,y:0,z:0},this._lastOffsetX=null,this._lastOffsetY=null,this._$cubeletHtmlFragment=a.clone(),this.append(this._$cubeletHtmlFragment),this._$cubeletContainer=this.find(".cubelet-container"),this._$cubeletCube=this.find(".cubelet-cube"),this._$cubeletZRotationArm=this.find(".cubelet-rotation-arm"),this._$cubeletZRotationHandle=this.find(".cubelet-rotation-handle"),this.cubeletSetSize(100),this.cubeletSetCoords(this._cubeletCoordinates),this.css("perspective",l),this.css("transform","translate(-50%, -50%)"),this.addClass("cubelet"),this._$cubeletContainer.on("mousedown",t.proxy(r,this,this)),this},t.fn.cubeletSetSize=function(t){return this.css({height:t+"px",width:t+"px"})},t.fn.cubeletGetCoords=function(){return t.extend({},this._cubeletCoordinates)},t.fn.cubeletSetCoords=function(e){var n=this._cubeletCoordinates;t.extend(n,e);var i="rotateX("+n.x+"deg) rotateY("+n.y+"deg)";return this._$cubeletCube.css("transform",i),this},t.fn.cubeletShow=function(){return this._$cubeletContainer.show(),this},t.fn.cubeletHide=function(){return this._$cubeletContainer.hide(),this},t.fn.cubeletIsShown=function(){return this._$cubeletContainer.is(":visible")}})(this.jQuery);